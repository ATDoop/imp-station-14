- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatMummyCrown
  name: mummy crown
  description: "\"Gentlemen?\""
  components:
  - type: Sprite
    sprite: Clothing/Head/Hats/beaver_hat.rsi
  - type: Clothing
    sprite: Clothing/Head/Hats/beaver_hat.rsi
  - type: ClothingLatchOn
  - type: ClothingGrantAction
    action: ActionSandWave
  - type: MummyArtifact
  - type: AddGameruleOnEquip
    gameRule: MummySpawnOnCrownEquip

- type: entity
  id: AdminInstantEffectLocalRepulsion
  name: instant effect
  suffix: Local Repulsion
  components:
  - type: TimedDespawn
  - type: TriggerOnSpawn
  - type: ImpRepulsionOnTrigger
    throwDeadzone: 0

- type: entity
  id: SandWave
  categories: [HideSpawnMenu]
  components:
  - type: TimedDespawn
  - type: TriggerOnSpawn
  - type: ImpRepulsionOnTrigger
  - type: TileReplaceRadiusOnTrigger
  #- type: EmitSoundOnTrigger # We don't have a sound for it yet.

- type: entity
  parent: BaseAction
  id: ActionSandWave
  name: Sand Wave
  description: Summons a sand wave to push back aggressors.
  components:
  - type: Action
    useDelay: 10
    itemIconStyle: BigAction
    icon:
      sprite: Actions/smokeaction.rsi # TODO: sprite
      state: smokeaction
  - type: InstantAction
    event: !type:InstantSpawnSpellEvent
      prototype: SandWave
      posData: !type:TargetCasterPos
