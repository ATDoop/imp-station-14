- type: entity
  parent: ClothingHeadBase
  id: ClothingHeadHatMummyCrown
  name: ancient crown
  description: An incredible archaeological find that obviously belongs directly on top of your head as soon as possible.
  components:
  - type: Sprite
    sprite: _Impstation/Clothing/Head/Helmets/mummycrown.rsi
    layers:
    - state: icon
    - state: icon-unshaded
      shader: unshaded
  - type: Clothing
    sprite: _Impstation/Clothing/Head/Helmets/mummycrown.rsi
    clothingVisuals:
      head:
      - state: equipped-head
        offset: "0, 0.125"
      - state: equipped-head-unshaded
        shader: unshaded
        offset: "0, 0.125"
      head-mummy: #MUMMY TODO: more species variants
      - state: equipped-head-mummy
        offset: "0, 0.1875"
      - state: equipped-head-unshaded-mummy
        shader: unshaded
        offset: "0, 0.1875"
      head-vox:
      - state: equipped-head-vox
        offset: "0, 0.125"
      - state: equipped-head-unshaded-vox
        shader: unshaded
        offset: "0, 0.125"
  - type: ClothingLatchOn
  - type: ClothingGrantAction
    action: ActionSandWave
  - type: MummyArtifact
  - type: AddGameruleOnEquip
    gameRule: MummySpawnOnCrownEquip

- type: entity
  id: AdminInstantEffectLocalRepulsion
  name: instant effect
  suffix: Local Repulsion
  components:
  - type: TimedDespawn
  - type: TriggerOnSpawn
  - type: ImpRepulsionOnTrigger
    throwDeadzone: 0

- type: entity
  id: SandWave
  categories: [HideSpawnMenu]
  components:
  - type: Sprite
    sprite: _Impstation/Effects/mummysandwave.rsi
    state: sandwave
  - type: TimedDespawn
    lifetime: 0.525
  - type: TriggerOnSpawn
  - type: ImpRepulsionOnTrigger
  - type: TileReplaceRadiusOnTrigger
  #- type: EmitSoundOnTrigger # We don't have a sound for it yet.

- type: entity
  parent: BaseAction
  id: ActionSandWave
  name: Sand Wave
  description: Summons a sand wave to push back aggressors.
  components:
  - type: Action
    useDelay: 10
    itemIconStyle: BigAction
    icon:
      sprite: Actions/smokeaction.rsi # MUMMY TODO: sprite
      state: smokeaction
  - type: InstantAction
    event: !type:InstantSpawnSpellEvent
      prototype: SandWave
      posData: !type:TargetCasterPos
